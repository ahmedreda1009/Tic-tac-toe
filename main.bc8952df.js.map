{"version":3,"sources":["main.js"],"names":["playerXMoves","playerOMoves","history","currentPlayer","movesCounter","winner","winCases","squares","document","querySelectorAll","movesDivs","winnerPlyer","querySelector","nextPlayerField","moves","isPlayerWon","arr","winArra","result","some","element","res","every","ele","includes","forEach","dataset","id","classList","add","textContent","CheckWinner","clickedSquare","push","hisObj","x","o","next","winnerP","moveBlock","createElement","moveText","createTextNode","addEventListener","e","displayHistory","target","append","historyObj","getElementById","remove","innerHTML"],"mappings":"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","file":"main.bc8952df.js","sourceRoot":"..\\src","sourcesContent":["let playerXMoves = [];\r\nlet playerOMoves = [];\r\nlet history = [];\r\nlet currentPlayer = 'X';\r\nlet movesCounter = 0;\r\nlet winner = false;\r\n\r\nlet winCases = [\r\n    [1, 2, 3],\r\n    [4, 5, 6],\r\n    [7, 8, 9],\r\n    [1, 4, 7],\r\n    [2, 5, 8],\r\n    [3, 6, 9],\r\n    [1, 5, 9],\r\n    [3, 5, 7]\r\n];\r\n\r\n\r\nlet squares = document.querySelectorAll('.board .square');\r\nlet movesDivs = document.querySelectorAll('.moves .moves-block button');\r\nlet winnerPlyer = document.querySelector('.info .winner span');\r\nlet nextPlayerField = document.querySelector('.info .next-player span');\r\nlet moves = document.querySelector('.moves .moves-block');\r\n\r\n\r\n\r\nfunction isPlayerWon(arr) {\r\n    let winArra = [];\r\n\r\n    let result = winCases.some((element) => {\r\n        let res = element.every((ele) => {\r\n            return arr.includes(ele);\r\n        });\r\n        winArra = element;\r\n        return res;\r\n    });\r\n\r\n    if (result) {\r\n        squares.forEach((ele) => {\r\n            if (winArra.includes(+ele.dataset.id)) {\r\n                ele.classList.add('text-warning');\r\n            }\r\n        });\r\n        nextPlayerField.textContent = '...';\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nfunction CheckWinner(clickedSquare) {\r\n    if (clickedSquare.textContent || winner) return;\r\n    clickedSquare.textContent = currentPlayer;\r\n\r\n    if (currentPlayer === 'X') {\r\n        playerXMoves.push(+clickedSquare.dataset.id);\r\n        // currentPlayer = 'O';\r\n        winner = isPlayerWon(playerXMoves);\r\n\r\n        if (winner) {\r\n            winnerPlyer.textContent = 'X';\r\n        } else {\r\n            currentPlayer = 'O';\r\n            nextPlayerField.textContent = currentPlayer;\r\n        }\r\n    } else {\r\n        playerOMoves.push(+clickedSquare.dataset.id);\r\n        // currentPlayer = 'X';\r\n        winner = isPlayerWon(playerOMoves);\r\n\r\n        if (winner) {\r\n            winnerPlyer.textContent = 'O';\r\n        } else {\r\n            currentPlayer = 'X';\r\n            nextPlayerField.textContent = currentPlayer;\r\n        }\r\n    }\r\n\r\n    let hisObj = {\r\n        x: [...playerXMoves],\r\n        o: [...playerOMoves],\r\n        next: nextPlayerField.textContent,\r\n        winnerP: winnerPlyer.textContent\r\n    };\r\n\r\n    history.push(hisObj);\r\n\r\n    let moveBlock = document.createElement('button');\r\n    let moveText = document.createTextNode(`Go to move #${movesCounter + 1}`)\r\n    moveBlock.classList = 'btn btn-primary d-block mb-2';\r\n    moveBlock.dataset.id = movesCounter + 1;\r\n\r\n    moveBlock.addEventListener('click', (e) => {\r\n        displayHistory(history[e.target.dataset.id - 1]);\r\n    });\r\n\r\n    moveBlock.append(moveText);\r\n    moves.append(moveBlock);\r\n\r\n    moves.append(moveBlock);\r\n\r\n    movesCounter++;\r\n}\r\n\r\nfunction displayHistory(historyObj) {\r\n    nextPlayerField.textContent = historyObj.next;\r\n    winnerPlyer.textContent = historyObj.winnerP;\r\n    squares.forEach(ele => {\r\n        if (historyObj.x.includes(+ele.dataset.id)) {\r\n            ele.textContent = 'X';\r\n        } else if (historyObj.o.includes(+ele.dataset.id)) {\r\n            ele.textContent = 'O';\r\n        } else {\r\n            ele.textContent = '';\r\n        }\r\n    });\r\n}\r\n\r\nsquares.forEach(ele => {\r\n    ele.addEventListener('click', () => {\r\n        CheckWinner(ele);\r\n    });\r\n});\r\n\r\ndocument.getElementById('play-again').addEventListener('click', () => {\r\n    playerXMoves = [];\r\n    playerOMoves = [];\r\n    history = [];\r\n    currentPlayer = 'X';\r\n    movesCounter = 0;\r\n    winner = false;\r\n    squares.forEach(ele => {\r\n        ele.textContent = '';\r\n        ele.classList.remove('text-warning');\r\n    });\r\n    moves.innerHTML = '';\r\n    nextPlayerField.textContent = currentPlayer;\r\n    winnerPlyer.textContent = '...';\r\n});"]}